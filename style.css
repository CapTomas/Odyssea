/* style.css - Cockpit Redesign - Iteration 3 (Collapsible) with Animations */

:root {
    /* Typography */
    --font-family-main: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --font-family-mono: "Roboto Mono", "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;

    --font-size-xs: 0.75rem;    /* 12px */
    --font-size-sm: 0.875rem;   /* 14px */
    --font-size-base: 0.9375rem;/* 15px */
    --font-size-md: 1rem;       /* 16px */
    --font-size-lg: 1.125rem;   /* 18px */
    --font-size-xl: 1.375rem;   /* 22px - Game Title */
    --font-size-title-console: 0.875rem; /* Slightly larger for console box titles */

    --line-height-tight: 1.4;
    --line-height-base: 1.6;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;

    /* Core Palette */
    --color-bg-page-root: #121212;
    --color-bg-viewport: #1E1E1E;
    --color-bg-console-box: #181818;
    --color-bg-input-area: #252525;
    --color-bg-input-field: #2E2E2E;
    --color-bg-element-hover: #333333;
    --color-bg-button-primary: #3A3A3E;
    --color-bg-button-primary-hover: #4A4A4E;

    --color-text-primary: #D1D1D6;
    --color-text-secondary: #8A8A8E;
    --color-text-muted: #5A5A5E;
    --color-text-on-primary-button: #FFFFFF;
    --color-text-accent-interactive: #5A5A5E; /* Was #50fa7b, changed for consistency */

    /* Accent Colors */
    --color-accent-teal: #14B8A6; /* Teal */
    --color-accent-blue: #3B82F6; /* Soft Blue */
    --color-accent-amber: #F59E0B; /* Amber */
    --color-accent-violet: #8B5CF6; /* Violet - if needed */
    --color-accent-teal-rgb: 20, 184, 166;
    --color-accent-blue-rgb: 59, 130, 246;
    --color-accent-amber-rgb: 245, 158, 11;
    --color-accent-red-rgb: 239, 68, 68;
    --color-accent-light-gray-rgb: 229, 231, 235;


    /* Status Specific Colors */
    --color-status-ok-bar: var(--color-accent-teal);
    --color-status-warning-bar: var(--color-accent-amber);
    --color-status-danger-bar: #EF4444; /* Red */
    --color-status-info-bar: var(--color-accent-blue);
    --color-status-offline-bar: #4A5568; /* Darker Grey */

    --color-status-ok-text: var(--color-accent-teal);
    --color-status-warning-text: var(--color-accent-amber);
    --color-status-danger-text: #EF4444; /* Red */
    --color-status-info-text: var(--color-text-accent-interactive); /* Using the interactive accent color for GM processing for now */
    --color-status-offline-text: var(--color-text-muted);


    /* Shadows & Highlights */
    --shadow-console-box: 0px 2px 8px rgba(0, 0, 0, 0.2);
    --shadow-input-area: 0px -2px 5px rgba(0, 0, 0, 0.15);
    --shadow-focus-ring: 0 0 0 2px var(--color-text-accent-interactive); /* Adjusted to use consistent interactive color */
    --highlight-bg-value-update: rgba(var(--color-accent-light-gray-rgb), 0.08);


    /* Spacing & Sizing */
    --spacing-unit: 4px;
    --spacing-xs: var(--spacing-unit);
    --spacing-sm: calc(var(--spacing-unit) * 2);
    --spacing-md: calc(var(--spacing-unit) * 3);
    --spacing-lg: calc(var(--spacing-unit) * 4);
    --spacing-xl: calc(var(--spacing-unit) * 5);
    --spacing-xxl: calc(var(--spacing-unit) * 6);

    /* Radii */
    --radius-full: 9999px;
    --radius-xs: 8px;
    --radius-sm: 10px;
    --radius-md: 20px; /* Increased for a more modern feel */


    --sidebar-width: 280px;
    --top-bar-height: 50px;
    --bottom-bar-height: 28px;
    --input-panel-height: auto; /* Dynamic based on content */
    --input-button-size: 32px; /* Compact and modern */
    --textarea-max-height: 150px; /* User requested max height for textarea */

    --transition-fast: 0.15s ease-out;
    --transition-std: 0.25s ease-out;
    /* Adjusted for boot-up sequence, direct use in .console-box-content */
    /* --transition-collapsible: 0.75s ease-in-out; */

    --UPDATE_HIGHLIGHT_DURATION: 5s; /* CSS variable for highlight duration */
}

/* --- Global Resets & Base Styles --- */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border: 0;
}

html {
    font-size: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

html.no-scroll { overflow: hidden; }

body {
    font-family: var(--font-family-main);
    background-color: var(--color-bg-page-root);
    color: var(--color-text-primary);
    line-height: var(--line-height-base);
    font-size: var(--font-size-base);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
}

/* --- Root UI Container --- */
#game-ui-root {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
}

/* --- Top Bar --- */
#app-top-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 var(--spacing-xl);
    background-color: var(--color-bg-console-box); /* Slightly darker for distinction */
    flex-shrink: 0;
    height: var(--top-bar-height);
    position: relative; /* For z-index context if needed */
    z-index: 100;
    /* border-bottom: 1px solid rgba(255,255,255,0.05); */ /* Optional subtle separator */
}
#app-top-bar .top-bar-left { flex: 1; }
#app-top-bar .top-bar-center {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    font-size: var(--font-size-sm);
}
#app-top-bar .top-bar-right { flex: 1; display: flex; justify-content: flex-end; }

#game-title {
    font-size: var(--font-size-lg); /* Slightly reduced for balance */
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
}

#system-status-indicator,
#gm-activity-indicator {
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--radius-xs);
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-xs);
    /* transition: color var(--transition-fast), background-color var(--transition-fast); */ /* Smooth status changes */
}
#system-status-indicator.status-ok { color: var(--color-status-ok-text); }
/* #system-status-indicator.status-warning { color: var(--color-status-warning-text); }
#system-status-indicator.status-danger { color: var(--color-status-danger-text); } */
#gm-activity-indicator { color: var(--color-status-info-text); }

/* Subtle pulse for GM activity indicator */
@keyframes subtlePulse {
    0%, 100% { opacity: 0.75; }
    50% { opacity: 1; }
}
#gm-activity-indicator[style*="inline-flex"] { /* When visible via inline-flex */
    animation: subtlePulse 1.5s infinite ease-in-out;
}


/* --- Cockpit Layout --- */
#cockpit-layout {
    display: flex;
    flex-grow: 1;
    overflow: hidden; /* Crucial for layout */
    padding: var(--spacing-lg);
    gap: var(--spacing-lg);
    background-color: var(--color-bg-viewport); /* Main viewport background */
}

/* --- Console Sidebars (Left & Right) --- */
.console-sidebar {
    width: var(--sidebar-width);
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-start; /* Align boxes to the top */
    gap: var(--spacing-lg);       /* Consistent spacing between boxes */
    overflow-y: auto; /* Enable scrolling if content exceeds height */
    padding-bottom: var(--spacing-xs); /* Space for scrollbar aesthetics */
}

/* --- Console Boxes (Collapsible) --- */
.console-box {
    background-color: var(--color-bg-console-box);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255,255,255,0.03); /* Very subtle border */
    /* box-shadow: var(--shadow-console-box); */ /* Optional, if more depth is desired */
    overflow: hidden; /* Important for collapse animation */
}
/* Removed: .console-sidebar > .console-box:first-child { margin-bottom: var(--spacing-lg); } */
/* Gap on .console-sidebar handles this now */

.console-box-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md) var(--spacing-lg);
    cursor: pointer;
    transition: background-color var(--transition-fast);
    /* border-bottom: 1px solid rgba(255,255,255,0.03); */ /* Subtle separator when expanded */
}
.console-box-header:hover {
    background-color: rgb(46 46 46); /* Slightly darker for hover */
}

.console-box-title {
    font-size: var(--font-size-title-console);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.console-box-content {
    max-height: 0; /* Start collapsed */
    opacity: 0;    /* Start invisible */
    overflow: hidden;
    padding: 0 var(--spacing-lg); /* No top/bottom padding when collapsed */
    /* Refined transition for boot-up sequence and general collapse/expand */
    transition: max-height 1.5s cubic-bezier(0.4, 0, 0.2, 1),   /* Was 1.2s */
                opacity 1.2s ease-out 0.3s,                     /* Was 1s duration, 0.2s delay */
                padding-top 1.5s cubic-bezier(0.4, 0, 0.2, 1),  /* Was 1.2s */
                padding-bottom 1.5s cubic-bezier(0.4, 0, 0.2, 1); /* Was 1.2s */
}
.console-box.is-expanded .console-box-content {
    max-height: 600px; /* Adjust if content can be very tall */
    opacity: 1;
    padding-top: var(--spacing-xs); /* Minimal top padding when expanded */
    padding-bottom: var(--spacing-lg);
}

.info-item, .info-item-meter {
    margin-bottom: var(--spacing-md);
    position: relative; /* For highlight pseudo-element */
}
.info-item:last-child, .info-item-meter:last-child { margin-bottom: 0; }

.info-item .label, .info-item-meter .label {
    display: block;
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-xs);
    font-weight: var(--font-weight-medium);
}

.info-item .value, .info-item-meter .value-overlay {
    display: block;
    font-size: var(--font-size-base);
    color: var(--color-text-primary);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-tight);
}
.info-item .value.objective-text,
.info-item .value.location-text {
    /* Allow text to wrap, scroll if it exceeds a few lines */
    max-height: calc(var(--line-height-tight) * var(--font-size-base) * 5); /* Approx 5 lines */
    overflow-y: auto;
    padding-right: var(--spacing-sm); /* Space for scrollbar if it appears */
}

.meter-bar-container {
    width: 100%;
    height: 8px; /* Standardized meter height */
    background-color: rgba(255,255,255,0.05); /* Darker, less obtrusive track */
    border-radius: var(--radius-full);
    overflow: hidden;
    margin-top: var(--spacing-xs);
}
.meter-bar {
    height: 100%;
    background-color: var(--color-status-ok-bar); /* Default to OK color */
    width: 0%; /* Start empty, JS will fill */
    border-radius: var(--radius-full);
    transition: width 0.4s ease-out, background-color 0.4s ease;
}
#info-ship-shields.value-overlay,
#info-ship-integrity.value-overlay {
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
    margin-top: var(--spacing-xs);
    text-align: right; /* Align percentage to the right */
}

/* --- Center Column (Viewport & Controls) --- */
#center-column {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    background-color: var(--color-bg-viewport); /* Matches cockpit layout bg */
    overflow: hidden; /* Important for child scrolling */
    /* border-radius: var(--radius-md); */ /* Optional: round center column corners */
}

/* Story Log Viewport ("Viewscreen") */
#story-log-viewport {
    flex-grow: 1;
    overflow-y: auto;
    padding: var(--spacing-xl);
    /* background-color: rgba(0,0,0,0.1); */ /* Slightly differentiate from viewport if desired */
}

#story-log .message {
    margin-bottom: var(--spacing-lg);
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--radius-md); /* Consistent rounded corners */
    line-height: var(--line-height-base);
    max-width: 90%; /* Prevent messages from stretching full width */
    opacity: 0; /* For fade-in animation */
    transform: translateY(10px); /* For fade-in animation */
    animation: fadeInMessage 0.3s ease-out forwards;
}
@keyframes fadeInMessage { to { opacity: 1; transform: translateY(0); } }

#story-log .gm-message {
    /* background-color: var(--color-bg-console-box); */ /* GM messages could have a subtle bg */
    color: var(--color-text-primary);
    margin-right: auto; /* Align left */
}
#story-log .gm-message em {
    color: var(--color-text-secondary); /* Emphasized text color */
    font-style: italic;
}

#story-log .player-message {
    background-color: var(--color-bg-console-box); /* Differentiate player messages */
    color: var(--color-text-primary);
    font-weight: var(--font-weight-medium);
    margin-left: auto; /* Align right */
}

#story-log .system-message {
    background-color: transparent; /* No background for system messages */
    color: var(--color-text-muted);
    font-style: italic;
    font-size: var(--font-size-sm);
    text-align: center;
    margin: var(--spacing-lg) auto;
    padding: var(--spacing-sm) var(--spacing-md);
    border: 1px dashed var(--color-text-muted); /* Subtle dashed border */
    border-radius: var(--radius-sm);
    max-width: 100%; /* Can span full width */
}

/* Suggested Actions */
#suggested-actions-wrapper {
    padding: var(--spacing-sm) var(--spacing-lg) var(--spacing-md) var(--spacing-lg);
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
    flex-shrink: 0;
    max-height: 100px; /* Limit height, allow scrolling */
    overflow-y: auto;
    border-top: 1px solid rgba(255,255,255,0.05); /* Subtle separator */
    background-color: var(--color-bg-viewport); /* Match center column bg */
}

/* Player Input Control Panel */
#player-input-control-panel {
    padding: var(--spacing-md);
    flex-shrink: 0;
    /* background-color: var(--color-bg-console-box); */ /* Optional: make input panel distinct */
    /* border-top: 1px solid rgba(255,255,255,0.05); */ /* Separator line */
}

.input-group {
    display: flex;
    align-items: center; /* Vertically align items, especially button with textarea */
    background-color: var(--color-bg-input-field);
    border-radius: var(--radius-md); /* More rounded */
    padding: var(--spacing-xs) var(--spacing-xs) var(--spacing-xs) var(--spacing-md); /* Padding L/R for input, R for button */
    min-height: 70px; /* Consistent height as before */
    transition: box-shadow var(--transition-fast);
}
.input-group:focus-within {
    box-shadow: var(--shadow-focus-ring);
}

#player-input-control-panel input[type="text"],
#player-input-control-panel textarea {
    flex-grow: 1;
    background-color: transparent;
    color: var(--color-text-primary);
    padding: var(--spacing-sm) 0; /* Remove horizontal padding, handled by .input-group */
    font-family: var(--font-family-main);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-normal);
    outline: none;
    line-height: var(--line-height-tight);
    margin-left: var(--spacing-lg); /* Original spacing for text start */
}
#player-input-control-panel textarea {
    resize: none;
    /* min-height is controlled by parent .input-group or dynamically by JS */
    height: auto; /* Start with auto height, JS will manage */
    min-height: calc(1.4em + var(--spacing-sm) * 0.8); /* Approx 1 line + padding */
    max-height: var(--textarea-max-height); /* MODIFIED: Use variable for max height */
    overflow-y: auto; /* Scrollbar appears when max-height is reached */
    margin-left: var(--spacing-lg); /* This creates space if a prefix icon was intended */
    padding-top: calc(var(--spacing-sm) * 0.8); /* Adjust padding for better baseline alignment */
    padding-bottom: calc(var(--spacing-sm) * 0.8);
}
#player-input-control-panel input[type="text"]::placeholder,
#player-input-control-panel textarea::placeholder {
    color: var(--color-text-muted);
    opacity: 1; /* Ensure placeholder is fully visible */
}

/* --- UI Buttons --- */
.ui-button {
    padding: var(--spacing-sm) var(--spacing-lg);
    border-radius: var(--radius-md); /* Consistent rounded corners */
    font-family: var(--font-family-main);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: background-color var(--transition-fast), transform var(--transition-fast), color var(--transition-fast);
    white-space: nowrap; /* Prevent text wrapping on buttons */
    background-color: var(--color-bg-element-hover);
    color: var(--color-text-secondary);
    border: 1px solid transparent; /* For consistent sizing with bordered buttons */
}
.ui-button:hover {
    background-color: lighten(var(--color-bg-element-hover), 5%);
    color: var(--color-text-primary);
}
.ui-button:active {
    transform: translateY(1px); /* Subtle press effect */
    background-color: darken(var(--color-bg-element-hover), 5%);
}

.ui-button.icon-button { /* For language toggle etc. */
    background-color: transparent;
    color: var(--color-text-secondary);
    padding: var(--spacing-xs) var(--spacing-sm); /* Slightly tighter padding */
    font-size: var(--font-size-sm);
    border-radius: var(--radius-md); /* Consistent radius */
}
.ui-button.icon-button:hover {
    color: var(--color-text-primary);
    background-color: rgba(255,255,255,0.05); /* Subtle hover background */
}

#player-input-control-panel .ui-button.primary {
    background-color: var(--color-bg-button-primary);
    color: var(--color-text-on-primary-button);
    font-weight: var(--font-weight-medium);
    flex-shrink: 0;
    margin-left: var(--spacing-sm); /* Space between input and button */
    margin-right: var(--spacing-lg); /* Consistent with input group padding */
    height: calc(var(--input-button-size) + var(--spacing-xs)*2 + 2px); /* Match input group internal height better */
    min-width: var(--input-button-size); /* Ensure button has a minimum tap/click area */
    padding: 0 var(--spacing-md); /* Horizontal padding for button text */
    border-radius: var(--radius-md); /* Match parent input group radius */
    font-size: var(--font-size-sm); /* Slightly smaller font for action buttons */
    display: flex; /* For centering text/icon if any */
    align-items: center;
    justify-content: center;
}
#player-input-control-panel .ui-button.primary:hover {
    background-color: var(--color-bg-button-primary-hover);
}
#player-input-control-panel .ui-button.primary:active {
    background-color: var(--color-bg-input-field); /* Darken on active more */
}

/* Suggested Action Buttons */
#suggested-actions-wrapper .ui-button {
    background-color: var(--color-bg-input-field); /* Subtler background */
    color: var(--color-text-secondary);
    flex-grow: 1; /* Allow buttons to share space */
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-normal);
    padding: var(--spacing-xs) var(--spacing-md);
    text-align: center;
    border-radius: var(--radius-md); /* Consistent rounding */
    border: 1px solid transparent;
}
#suggested-actions-wrapper .ui-button:hover {
    background-color: var(--color-bg-element-hover);
    color: var(--color-text-primary);
    /* border-color: var(--color-text-accent-interactive); */ /* Optional: highlight on hover */
}

.ui-button:disabled,
.ui-button:disabled:hover,
.ui-button:disabled:active {
    background-color: var(--color-text-muted) !important;
    color: var(--color-bg-input-field) !important;
    cursor: not-allowed;
    transform: none !important;
    opacity: 0.5;
}

/* --- Footer --- */
#app-bottom-bar { display: none; } /* As per original, hidden */

/* --- Status Color Utility Classes (Text) --- */
.status-ok { color: var(--color-status-ok-text) !important; }
.status-warning { color: var(--color-status-warning-text) !important; }
.status-danger { color: var(--color-status-danger-text) !important; }
.status-info { color: var(--color-status-info-text) !important; }
.status-offline { color: var(--color-status-offline-text) !important; }

/* --- Value Update Highlight Animation --- */
.value-updated { /* Applied to .info-item or .info-item-meter */
    animation: flash-value-update-bg var(--UPDATE_HIGHLIGHT_DURATION) ease-out forwards;
}
@keyframes flash-value-update-bg {
    0%, 15% { background-color: var(--highlight-bg-value-update); }
    100% { background-color: transparent; }
}
/* The JS adds .value-updated to the .info-item or .info-item-meter parent.
   The following ::after rule provides a slightly larger, softer glow effect. */
.info-item.value-updated, .info-item-meter.value-updated {
    background-color: transparent; /* Ensure base is transparent */
    position: relative;
    z-index: 0; /* Establish stacking context for ::after */
}
.info-item.value-updated::after, .info-item-meter.value-updated::after {
    content: '';
    position: absolute;
    top: calc(var(--spacing-xs) * -0.5); /* Slightly extend glow beyond text block */
    left: calc(var(--spacing-xs) * -0.5);
    right: calc(var(--spacing-xs) * -0.5);
    bottom: calc(var(--spacing-xs) * -0.5);
    border-radius: var(--radius-xs); /* Smaller radius for the glow effect itself */
    animation: flash-value-update-bg var(--UPDATE_HIGHLIGHT_DURATION) ease-out forwards;
    pointer-events: none; /* Allow clicks to pass through */
    z-index: -1; /* Position glow behind the content */
}


/* --- Scrollbars --- */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: rgba(0,0,0,0.05); } /* Very subtle track */
::-webkit-scrollbar-thumb { background-color: var(--color-text-muted); border-radius: var(--radius-full); }
::-webkit-scrollbar-thumb:hover { background-color: var(--color-text-secondary); }

* { /* For Firefox */
    scrollbar-width: thin;
    scrollbar-color: var(--color-text-muted) rgba(0,0,0,0.05);
}

/* --- Responsive Adjustments --- */
@media (max-width: 1100px) { /* Larger tablets */
    :root { --sidebar-width: 240px; }
}

@media (max-width: 900px) { /* Smaller tablets, landscape phones */
    #cockpit-layout {
        flex-direction: column; /* Stack main areas */
        padding: var(--spacing-md);
        gap: var(--spacing-md);
    }
    .console-sidebar {
        width: 100%;
        flex-direction: row; /* Sidebars become horizontal rows of boxes */
        flex-wrap: wrap; /* Allow boxes to wrap */
        gap: var(--spacing-md); /* Uses gap for spacing */
        justify-content: flex-start; /* Align wrapped boxes */
        overflow-y: visible; /* No scrolling for the sidebar container itself */
    }
    .console-box {
        flex-basis: calc(50% - (var(--spacing-md) / 2) ); /* Two boxes per row, accounting for gap */
        min-width: 200px; /* Minimum sensible width for a console box */
        flex-grow: 1;
        /* margin-bottom: 0 !important; Removed - handled by gap */
    }
    /* Removed: .console-sidebar > .console-box:first-child { margin-bottom: 0; } */

    #center-column { order: -1; min-height: 350px; } /* Story log first on mobile */
    #story-log-viewport { padding: var(--spacing-lg); }
    #player-input-control-panel { padding: var(--spacing-sm); }
    .input-group { min-height: 48px; } /* Slightly smaller input group on mobile */
    #player-input-control-panel textarea {
        max-height: calc(var(--textarea-max-height) * 0.75); /* Reduce max height on smaller screens */
    }
}

@media (max-width: 600px) { /* Portrait phones */
    :root {
        --top-bar-height: auto; /* Allow top bar to wrap if needed */
        --spacing-lg: 12px;
        --spacing-xl: 16px;
        --font-size-base: 0.875rem; /* Slightly smaller base font */
    }
    #app-top-bar {
        padding: var(--spacing-sm) var(--spacing-md);
        flex-wrap: wrap; /* Allow top bar items to wrap */
        min-height: 40px;
    }
    #app-top-bar .top-bar-center { display: none; } /* Hide status indicators on very small screens for space */
    .console-box { flex-basis: 100%; } /* Full width for console boxes */
    #story-log .message { max-width: 95%; padding: var(--spacing-sm) var(--spacing-md); }
    #suggested-actions-wrapper { padding: var(--spacing-xs) var(--spacing-md) var(--spacing-sm) var(--spacing-md); }
    #suggested-actions-wrapper .ui-button { flex-basis: calc(50% - (var(--spacing-sm) / 2)); } /* Two suggested actions per row */
}
@media (max-width: 400px) { /* Very small screens */
    #suggested-actions-wrapper .ui-button { flex-basis: 100%; } /* One suggested action per row */
    #player-input-control-panel .ui-button.primary {
        padding: 0 var(--spacing-sm); /* Reduce padding on send button */
        font-size: var(--font-size-xs);
    }
    #player-input-control-panel textarea {
        margin-left: var(--spacing-sm);
    }
}